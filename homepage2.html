
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paper Archive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Space+Mono&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            overflow-x: hidden;
        }
        
        body {
            background-color: #1a1a1a;
            color: #f5f5f5;
            font-family: 'Space Mono', monospace;
            position: relative;
            min-height: 100vh;
        }
        
        /* Navigation */
        .nav-container {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 30px 50px;
            display: flex;
            justify-content: space-between;
            z-index: 100;
            background: linear-gradient(to bottom, rgba(26,26,26,1) 0%, rgba(26,26,26,0) 100%);
        }
        
        .nav-item {
            font-size: 1.2rem;
            letter-spacing: 2px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .nav-item:hover {
            opacity: 0.7;
        }
        
        /* Main Title */
        .main-title {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            pointer-events: none;
        }
        
        .main-title h1 {
            font-family: 'Libre Baskerville', serif;
            font-size: 5rem;
            font-weight: 400;
            line-height: 0.9;
            letter-spacing: -2px;
        }
        
        /* Name Letters */
        .name-container {
            position: absolute;
            top: 150px;
            left: 50px;
            display: flex;
            gap: 10px;
        }
        
        .letter-badge {
            width: 45px;
            height: 45px;
            background: #f5f5f5;
            color: #1a1a1a;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: move;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        /* Draggable Elements */
        .draggable {
            position: absolute;
            cursor: move;
            transition: transform 0.1s ease;
        }
        
        .draggable:hover {
            transform: scale(1.05);
        }
        
        .draggable.dragging {
            opacity: 0.8;
            cursor: grabbing;
            z-index: 1000;
        }
        
        /* Decorative Elements Positions */
        .pink-camera {
            top: 350px;
            left: 100px;
            width: 200px;
            height: 150px;
        }
        
        .yellow-paper {
            top: 100px;
            left: 40%;
            width: 150px;
            height: 180px;
        }
        
        .pink-envelope {
            top: 80px;
            right: 30%;
            width: 180px;
            height: 140px;
        }
        
        .vinyl-record {
            bottom: 250px;
            right: 40%;
            width: 200px;
            height: 200px;
        }
        
        .travel-tickets {
            bottom: 150px;
            left: 25%;
            width: 180px;
            height: 100px;
        }
        
        .crossword {
            bottom: 100px;
            right: 150px;
            width: 150px;
            height: 150px;
        }
        
        .flower-1 {
            top: 300px;
            left: 50px;
            width: 80px;
            height: 80px;
        }
        
        .flower-2 {
            top: 250px;
            right: 100px;
            width: 100px;
            height: 100px;
        }
        
        .cherries {
            bottom: 300px;
            right: 350px;
            width: 60px;
            height: 80px;
        }
        
        .ceramic-dish {
            bottom: 200px;
            left: 50px;
            width: 120px;
            height: 100px;
        }
        
        .studio-pass {
            bottom: 250px;
            right: 50%;
            width: 140px;
            height: 180px;
        }
        
        /* Red strings */
        .string {
            position: absolute;
            stroke: #ff6b6b;
            stroke-width: 2;
            fill: none;
            pointer-events: none;
            z-index: 5;
        }
        
        /* Chat Widget Styles */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            height: 600px;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 5px 40px rgba(0,0,0,0.16);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.3s ease;
            z-index: 99999;
        }

        .chat-widget.minimized {
            height: 70px;
            width: 320px;
        }

        /* Chat Header */
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .chat-header h3 {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chat-header .status {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .minimize-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .minimize-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Chat Body */
        .chat-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #fafafa;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .chat-widget.minimized .chat-body {
            display: none;
        }

        /* Messages */
        .message {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            align-self: flex-end;
            margin-left: 40px;
        }

        .message.bot {
            align-self: flex-start;
            margin-right: 40px;
        }

        .message-content {
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 100%;
            word-wrap: break-word;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot .message-content {
            background: white;
            color: #1f2937;
            border: 1px solid #e5e7eb;
            border-bottom-left-radius: 4px;
        }

        .message-time {
            font-size: 11px;
            color: #6b7280;
            margin-top: 4px;
            padding: 0 8px;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 12px 16px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #6b7280;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: scale(1); opacity: 0.8; }
            30% { transform: scale(1.2); opacity: 1; }
        }

        /* Input Area */
        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .chat-widget.minimized .chat-input-container {
            display: none;
        }

        .chat-input {
            flex: 1;
            border: 1px solid #e5e7eb;
            border-radius: 24px;
            padding: 12px 20px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            border-color: #667eea;
        }

        .send-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

        .send-button:hover {
            transform: scale(1.05);
        }

        .send-button:active {
            transform: scale(0.95);
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .quick-btn {
            background: white;
            border: 1px solid #e5e7eb;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            color: #4b5563;
        }

        .quick-btn:hover {
            background: #f3f4f6;
            border-color: #667eea;
            color: #667eea;
        }

        /* Error Message */
        .error-message {
            background: #fee2e2;
            color: #dc2626;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            margin: 8px 0;
        }

        /* Mobile Responsive */
        @media (max-width: 480px) {
            .chat-widget {
                width: calc(100vw - 40px);
                height: calc(100vh - 100px);
                right: 20px;
                bottom: 20px;
            }
            
            .chat-widget.minimized {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container">
        <div class="nav-item">JB</div>
        <div class="nav-item">THE LOCALS</div>
        <div class="nav-item">THE SETTINGS</div>
        <div class="nav-item">CONTACTS</div>
    </nav>

    <!-- Main Title -->
    <div class="main-title">
        <h1>Paper<br>Archive</h1>
    </div>

    <!-- Name Letters -->
    <div class="name-container">
        <div class="letter-badge draggable">J</div>
        <div class="letter-badge draggable">A</div>
        <div class="letter-badge draggable">N</div>
        <div class="letter-badge draggable">A</div>
        <div class="letter-badge draggable" style="margin-left: 20px;">B</div>
        <div class="letter-badge draggable">R</div>
        <div class="letter-badge draggable">I</div>
        <div class="letter-badge draggable">D</div>
        <div class="letter-badge draggable">I</div>
    </div>

    <!-- Icon badges -->
    <div class="draggable" style="top: 250px; left: 150px;">
        <svg width="40" height="40" viewBox="0 0 40 40">
            <circle cx="20" cy="20" r="20" fill="#f5f5f5"/>
            <path d="M20 10 L15 25 L25 25 Z" fill="#ff6b6b"/>
        </svg>
    </div>

    <div class="draggable" style="top: 250px; left: 200px;">
        <svg width="40" height="40" viewBox="0 0 40 40">
            <circle cx="20" cy="20" r="20" fill="#f5f5f5"/>
            <path d="M20 10 L12 20 L20 30 L28 20 Z" fill="#1a1a1a"/>
        </svg>
    </div>

    <div class="draggable" style="top: 250px; left: 250px;">
        <svg width="40" height="40" viewBox="0 0 40 40">
            <circle cx="20" cy="20" r="20" fill="#f5f5f5"/>
            <circle cx="20" cy="20" r="8" fill="#ff6b6b"/>
        </svg>
    </div>

    <!-- Pink Camera -->
    <div class="draggable pink-camera">
        <svg width="200" height="150" viewBox="0 0 200 150">
            <rect x="10" y="30" width="180" height="110" rx="20" fill="#ffb3d9"/>
            <circle cx="100" cy="85" r="35" fill="#333" stroke="#666" stroke-width="3"/>
            <circle cx="100" cy="85" r="25" fill="#555"/>
            <rect x="30" y="40" width="30" height="20" rx="5" fill="#fff"/>
            <circle cx="160" cy="60" r="8" fill="#ff6b6b"/>
            <text x="100" y="140" text-anchor="middle" fill="#666" font-size="10">CAMERA PLACEHOLDER</text>
        </svg>
    </div>

    <!-- Yellow Paper -->
    <div class="draggable yellow-paper">
        <svg width="150" height="180" viewBox="0 0 150 180">
            <rect width="150" height="180" fill="#f4e04d"/>
            <path d="M0 0 Q75 20 150 0" stroke="#ff6b6b" stroke-width="2" fill="none"/>
            <text x="75" y="90" text-anchor="middle" fill="#333" font-size="12">YELLOW NOTE</text>
        </svg>
    </div>

    <!-- Pink Envelope -->
    <div class="draggable pink-envelope">
        <svg width="180" height="140" viewBox="0 0 180 140">
            <rect y="20" width="180" height="120" fill="#ffb3d9"/>
            <path d="M0 20 L90 80 L180 20" fill="#ff91c2"/>
            <path d="M90 0 Q90 40 90 40" stroke="#ff6b6b" stroke-width="2" fill="none"/>
            <rect x="20" y="40" width="140" height="80" fill="#fff" opacity="0.8"/>
            <text x="90" y="80" text-anchor="middle" fill="#666" font-size="10">LETTER PLACEHOLDER</text>
        </svg>
    </div>

    <!-- Vinyl Record -->
    <div class="draggable vinyl-record">
        <svg width="200" height="200" viewBox="0 0 200 200">
            <circle cx="100" cy="100" r="95" fill="#1a1a1a" stroke="#333" stroke-width="2"/>
            <circle cx="100" cy="100" r="70" fill="#222" stroke="#444" stroke-width="1" stroke-dasharray="2,2"/>
            <circle cx="100" cy="100" r="50" fill="#333" stroke="#555" stroke-width="1" stroke-dasharray="2,2"/>
            <circle cx="100" cy="100" r="30" fill="#f4e04d"/>
            <circle cx="100" cy="100" r="5" fill="#1a1a1a"/>
            <text x="100" y="105" text-anchor="middle" fill="#333" font-size="8">VINYL</text>
        </svg>
    </div>

    <!-- Travel Tickets -->
    <div class="draggable travel-tickets">
        <svg width="180" height="100" viewBox="0 0 180 100">
            <rect width="180" height="100" fill="#ff6b6b" rx="5"/>
            <rect x="10" y="10" width="160" height="30" fill="#fff" opacity="0.8"/>
            <rect x="10" y="50" width="160" height="40" fill="#fff" opacity="0.6"/>
            <text x="90" y="30" text-anchor="middle" fill="#333" font-size="12">TRAVELCARD</text>
            <text x="90" y="70" text-anchor="middle" fill="#333" font-size="10">18 APR 18</text>
        </svg>
    </div>

    <!-- Crossword -->
    <div class="draggable crossword">
        <svg width="150" height="150" viewBox="0 0 150 150">
            <rect width="150" height="150" fill="#f5f5f5"/>
            <g stroke="#333" stroke-width="1">
                <line x1="0" y1="30" x2="150" y2="30"/>
                <line x1="0" y1="60" x2="150" y2="60"/>
                <line x1="0" y1="90" x2="150" y2="90"/>
                <line x1="0" y1="120" x2="150" y2="120"/>
                <line x1="30" y1="0" x2="30" y2="150"/>
                <line x1="60" y1="0" x2="60" y2="150"/>
                <line x1="90" y1="0" x2="90" y2="150"/>
                <line x1="120" y1="0" x2="120" y2="150"/>
            </g>
            <rect x="30" y="30" width="30" height="30" fill="#333"/>
            <rect x="90" y="60" width="30" height="30" fill="#333"/>
            <rect x="0" y="90" width="30" height="30" fill="#333"/>
        </svg>
    </div>

    <!-- Flowers -->
    <div class="draggable flower-1">
        <svg width="80" height="80" viewBox="0 0 80 80">
            <g transform="translate(40,40)">
                <circle cx="0" cy="-15" r="10" fill="#9b91ff" opacity="0.8"/>
                <circle cx="15" cy="0" r="10" fill="#b3a7ff" opacity="0.8"/>
                <circle cx="0" cy="15" r="10" fill="#9b91ff" opacity="0.8"/>
                <circle cx="-15" cy="0" r="10" fill="#b3a7ff" opacity="0.8"/>
                <circle cx="0" cy="0" r="8" fill="#6b5bff"/>
            </g>
        </svg>
    </div>

    <div class="draggable flower-2">
        <svg width="100" height="100" viewBox="0 0 100 100">
            <g transform="translate(50,50)">
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(0)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(45)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(90)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(135)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(180)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(225)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(270)"/>
                <ellipse cx="0" cy="-20" rx="15" ry="25" fill="#f4e04d" transform="rotate(315)"/>
                <circle cx="0" cy="0" r="15" fill="#8b7355"/>
            </g>
        </svg>
    </div>

    <!-- Cherries -->
    <div class="draggable cherries">
        <svg width="60" height="80" viewBox="0 0 60 80">
            <path d="M30 10 Q20 0 10 0" stroke="#4a7c59" stroke-width="2" fill="none"/>
            <path d="M30 10 Q40 0 50 0" stroke="#4a7c59" stroke-width="2" fill="none"/>
            <circle cx="20" cy="50" r="15" fill="#dc143c"/>
            <circle cx="40" cy="55" r="15" fill="#dc143c"/>
            <circle cx="15" cy="45" r="3" fill="#ff6b6b" opacity="0.5"/>
            <circle cx="35" cy="50" r="3" fill="#ff6b6b" opacity="0.5"/>
        </svg>
    </div>

    <!-- Ceramic Dish -->
    <div class="draggable ceramic-dish">
        <svg width="120" height="100" viewBox="0 0 120 100">
            <ellipse cx="60" cy="50" rx="55" ry="40" fill="#e8dfd6" stroke="#d4c5b9" stroke-width="2"/>
            <ellipse cx="60" cy="50" rx="45" ry="30" fill="#f5f5f5"/>
            <path d="M20 50 Q60 30 100 50" stroke="#4169e1" stroke-width="3" fill="none"/>
            <circle cx="30" cy="50" r="5" fill="#ff6b6b"/>
            <circle cx="90" cy="50" r="5" fill="#4a7c59"/>
        </svg>
    </div>

    <!-- Studio Pass -->
    <div class="draggable studio-pass">
        <svg width="140" height="180" viewBox="0 0 140 180">
            <rect width="140" height="180" fill="#ffb3d9" rx="10"/>
            <rect x="10" y="10" width="120" height="80" fill="#fff" opacity="0.8"/>
            <rect x="10" y="100" width="120" height="70" fill="#ff91c2"/>
            <text x="70" y="50" text-anchor="middle" fill="#333" font-weight="bold" font-size="16">STUDIO</text>
            <text x="70" y="70" text-anchor="middle" fill="#333" font-size="12">PASS</text>
            <text x="70" y="135" text-anchor="middle" fill="#fff" font-size="14">2020</text>
        </svg>
    </div>

    <!-- Red Strings -->
    <svg class="string" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;">
        <path d="M 500 120 Q 600 80 750 150" />
        <path d="M 820 100 Q 900 120 950 100" />
    </svg>

    <!-- Chat Widget - Making sure it's at the end of body -->
    <div id="chatWidget" class="chat-widget">
        <div class="chat-header" onclick="toggleChat()">
            <h3>
                <span class="status"></span>
                Ask about Jana
            </h3>
            <button class="minimize-btn" onclick="event.stopPropagation(); toggleChat()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9l6 6 6-6"/>
                </svg>
            </button>
        </div>
        
        <div class="chat-body" id="chatBody">
            <div class="message bot">
                <div class="message-content">
                    👋 Hi! I'm here to tell you about Jana Bridi, a talented product designer. What would you like to know?
                </div>
                <div class="message-time">Just now</div>
            </div>
            
            <div class="quick-actions">
                <button class="quick-btn" onclick="sendQuickMessage('Tell me about Jana\'s projects')">Projects</button>
                <button class="quick-btn" onclick="sendQuickMessage('What is Jana\'s background?')">Background</button>
                <button class="quick-btn" onclick="sendQuickMessage('What are Jana\'s design skills?')">Skills</button>
            </div>
        </div>
        
        <div class="chat-input-container">
            <input 
                type="text" 
                class="chat-input" 
                id="chatInput" 
                placeholder="Ask me about Jana..."
                onkeypress="handleKeyPress(event)"
            >
            <button class="send-button" onclick="sendMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded! Initializing...');
            
            // Verify chat widget exists
            const chatWidget = document.getElementById('chatWidget');
            if (chatWidget) {
                console.log('Chat widget found and ready!');
            }
            
            // Make elements draggable
            const draggables = document.querySelectorAll('.draggable');
            
            draggables.forEach(draggable => {
                let isDragging = false;
                let currentX;
                let currentY;
                let initialX;
                let initialY;
                let xOffset = 0;
                let yOffset = 0;

                draggable.addEventListener('mousedown', dragStart);
                draggable.addEventListener('mouseup', dragEnd);
                draggable.addEventListener('mousemove', drag);

                function dragStart(e) {
                    initialX = e.clientX - xOffset;
                    initialY = e.clientY - yOffset;

                    if (e.target === draggable || draggable.contains(e.target)) {
                        isDragging = true;
                        draggable.classList.add('dragging');
                    }
                }

                function dragEnd(e) {
                    initialX = currentX;
                    initialY = currentY;
                    isDragging = false;
                    draggable.classList.remove('dragging');
                }

                function drag(e) {
                    if (isDragging) {
                        e.preventDefault();
                        currentX = e.clientX - initialX;
                        currentY = e.clientY - initialY;
                        xOffset = currentX;
                        yOffset = currentY;
                        draggable.style.transform = `translate(${currentX}px, ${currentY}px)`;
                    }
                }
            });

            // Chat functionality
            // Configuration
            const AI_CONFIG = {
                // Using local responses with Jana's information
                useLocalResponses: true,
                
                // Option 2: Hugging Face API (Free - get token at https://huggingface.co/settings/tokens)
                huggingFaceToken: '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',
                huggingFaceModel: 'microsoft/DialoGPT-medium',
                
               
                
                // Context for the AI
                systemPrompt: `You are an AI assistant on Jana Bridi's portfolio website. Be friendly and informative when answering questions about Jana.`
            };

            // Local responses with Jana's information
            const localResponses = {
                'project': "Jana's standout project is the Father Joe's Villages dashboard! 🏠 She helped bridge the communication gap between people experiencing homelessness in San Diego and outreach workers. The solution includes a dashboard and messaging tool where clients can privately share their location and message outreach workers. This project was even featured on ABC 10 San Diego news! 📺",
                'background': "Jana is a UCSD 2025 graduate (Go Tritons! 🔱) with a unique creative background. She's an accomplished flutist who played in state bands, National Youth Symphony Orchestra, and Fresno Youth Philharmonics as principal chair. She's won multiple solo competitions and was even featured on the front page of the newspaper in high school! 🎵",
                'skill': "Jana is a data-driven designer who focuses on both qualitative and quantitative research. She has extensive experience in user research, interaction design, and UX design. Jana is passionate about community-focused design and has worked with many non-profit stakeholders. 📊",
                'experience': "Currently working as a UI Designer Associate at Creative and Creator Agency, Jana brings experience in user research, interaction design, and UX design. She's actively looking for product designer roles where she can apply her research skills and community-focused approach.",
                'music': "Jana's musical background is impressive! She played flute in state bands, National Youth Symphony Orchestra, and Fresno Youth Philharmonics as principal chair. This experience taught her to communicate without words - a skill she now applies to creating intuitive designs.",
                'visalia': "Jana is from Visalia, CA in the Central Valley (559 represent! 🎉). She's proud of her roots and brings that community-focused mindset to her design work.",
                'philosophy': "Jana believes in creating intuitive designs that communicate clearly without making users struggle. Drawing from her music background, she understands that the best communication often happens without words - through emotion, flow, and natural interaction. 🎨",
                'hi': "Hi there! 👋 I'm here to tell you about Jana Bridi, a talented product designer from Visalia, CA. She's currently a UI Designer Associate at Creative and Creator Agency and is looking for product designer roles. What would you like to know?",
                'hello': "Hello! 👋 Welcome to Jana's portfolio. I can tell you about her projects, background, skills, or design philosophy. What interests you most?",
                'default': "That's a great question about Jana! She's a talented product designer with a unique background in music and a passion for community-focused design. Would you like to know about her projects, skills, or background?"
            };

            let messages = [];
            let isMinimized = false;

            window.toggleChat = function() {
                const widget = document.getElementById('chatWidget');
                widget.classList.toggle('minimized');
                isMinimized = !isMinimized;
                
                // Update arrow direction
                const arrow = document.querySelector('.minimize-btn svg path');
                if (isMinimized) {
                    arrow.setAttribute('d', 'M6 15l6-6 6 6');
                } else {
                    arrow.setAttribute('d', 'M6 9l6 6 6-6');
                }
            }

            function getCurrentTime() {
                const now = new Date();
                return now.toLocaleTimeString('en-US', { 
                    hour: 'numeric', 
                    minute: '2-digit',
                    hour12: true 
                });
            }

            function addMessage(content, isUser = false) {
                const chatBody = document.getElementById('chatBody');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
                messageDiv.innerHTML = `
                    <div class="message-content">${content}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                `;
                
                // Remove quick actions if they exist
                const quickActions = chatBody.querySelector('.quick-actions');
                if (quickActions && isUser) {
                    quickActions.remove();
                }
                
                chatBody.appendChild(messageDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
                
                messages.push({ content, isUser, time: new Date() });
            }

            function showTypingIndicator() {
                const chatBody = document.getElementById('chatBody');
                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.id = 'typingIndicator';
                typingDiv.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                chatBody.appendChild(typingDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function removeTypingIndicator() {
                const indicator = document.getElementById('typingIndicator');
                if (indicator) {
                    indicator.remove();
                }
            }

            async function getLocalResponse(message) {
                const lowerMessage = message.toLowerCase();
                
                // Check for keyword matches
                for (const [key, response] of Object.entries(localResponses)) {
                    if (key !== 'default' && lowerMessage.includes(key)) {
                        return response;
                    }
                }
                
                // Return default response
                return localResponses.default;
            }

            async function getAIResponse(message) {
                if (AI_CONFIG.useLocalResponses) {
                    // Simulate API delay
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    return await getLocalResponse(message);
                }
                
                // Hugging Face or custom backend options here...
                return await getLocalResponse(message);
            }

            window.sendMessage = async function() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (!message) return;
                
                // Add user message
                addMessage(message, true);
                input.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                try {
                    // Get AI response
                    const response = await getAIResponse(message);
                    
                    // Remove typing indicator and add response
                    removeTypingIndicator();
                    addMessage(response);
                } catch (error) {
                    removeTypingIndicator();
                    addMessage("Sorry, I encountered an error. Please try again!");
                }
            }

            window.sendQuickMessage = function(message) {
                document.getElementById('chatInput').value = message;
                sendMessage();
            }

            window.handleKeyPress = function(event) {
                if (event.key === 'Enter' && !event.shiftKey) {
                    event.preventDefault();
                    sendMessage();
                }
            }
        });
    </script>
</body>
</html>